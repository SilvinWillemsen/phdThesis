\chapter{Conclusions and Perspectives}\label{ch:conclusion}
This chapter concludes this thesis by providing a summary of the presented work. Finally, some perspectives and possible continuations of this project will be given.

\section{Summary}
This thesis presents the result of a PhD project on physical modelling of musical instruments using FDTD methods.
Part \ref{part:introduction} provided an introduction to the field of physical modelling, after which the basics of FDTD methods and analysis techniques were described in a tutorial-like fashion. Part \ref{part:resonators} provided detailed information about the resonators used for the contributions in this PhD project, and Part \ref{part:exciters} did the same for the exciters. Part \ref{part:interactions} presented collisions and connections as various ways in which the resonators could interact. Part \ref{part:contributions} summarised most papers included in Part \ref{part:papers} and related the contributions to the theory presented in the parts before. Part \ref{part:contributions} is summarised below.
% Furthermore, Part \ref{part:contributions} extended on the publications by providing additional information on implementation and design considerations. 
\subsubsection{Contributions}
Chapter \ref{ch:dynamicGrid} summarised paper \citeP[G], which presents a novel method to dynamically vary grid configurations in FDTD-based musical instrument simulations. The chapter extended the paper by providing information on experiments done, which substantiate choices made in the paper. 
Chapter \ref{ch:realtime} presented considerations on the real-time implementation of FD schemes as well as their control. 
Chapter \ref{ch:largeScale} summarised papers \citeP[A] and \citeP[B], which present the real-time implementation and control of a large-scale modular environment using the esraj, the hammered dulcimer and the hurdy gurdy as instrument test-cases. 
Chapter \ref{ch:tromba} summarised papers \citeP[D] and \citeP[E], which present the real-time implementation of the tromba marina using the Sensel Morph and the PHANTOM Omni as controllers respectively. The chapter extended on the papers by providing more details on the implementation. Finally, Chapter \ref{ch:trombone} summarised paper \citeP[H], which presents a real-time implementation of the trombone using the dynamic grid method, and provided additional design considerations and implementation details.

% \section{Research Questions}

% Section \ref{sec:objectivesContributions} poses various research questions and project objectives 

\section{Perspectives and future work}
Both an advantage and a disadvantage of the field of physical modelling musical instruments, is that one is never done. There are always more instruments to model or models to improve. This section contains several possibilities for continuations of this work and some perspectives on how to move forward.

\subsection{Parameter design}\label{sec:parameterDesign}
One could argue that the sound produced by musical instrument simulations depends in equal parts on the model describing the system and the parameters used. Parameter design and tuning is therefore an extremely important aspect in creating physical models that sound good. 

Some models might contain many parameters that are nonlinearly interconnected, such as the elasto-plastic friction model presented in paper \citeP[C], causing the tuning of the parameters to become extremely time-consuming. A possible solution for this, could be to tune the parameters based on a recording of the physical system one tries to model. 
One could automate this process using machine learning methods and a `gray-box' approach where the model is known, but the parameters are fitted to the input. This was done for virtual analog models in e.g. \cite{Eichas2017, Parker2019}. 

For parameters controlling the exciter, such as force, velocity, and position of a bow, a real-time implementation can be extremely helpful to judge the sound qualities of the simulation. Several times during this project, the simulation did not sound good, due to the use of static control parameters in \texttt{MATLAB}. The real-time implementation, where the control parameters were varied using human control, sounded much better and more natural. Parameters of the resonator could also be exposed and tuned in real-time, but this causes stability concerns in FDTD-based instrument simulations.\footnote{One could always set the states of the system to 0 when a parameter is changed, and re-initialise the system based on the new parameter. Alternatively, one could use the dynamic grid method from paper \citeP[G], but this might be a slightly overkill to implement only for parameter tuning.}

\subsection{Realism}\label{sec:realism}
The focus of this project was to create real-time simulations of musical instruments. Although a natural or realistic sound was, of course, desired, this was not the main focus, and more work could be done to achieve this.

If the goal is to create an extremely realistic musical instrument simulation, one would have to spend much time tuning the model parameters (see Section \ref{sec:parameterDesign}) and use more accurate and complex models. It is safe to say, that at the time of writing, accurately simulating the complete physics of a musical instrument in 3D, including nonlinear effects, is not something that personal computers will be able to do any time soon. 

That said, simulations using simplified models, which are able to run in real time (such as those presented in this work), can already sound quite realistic. From a perceptual point of view, using more complex models might thus be unnecessary. Furthermore, various components, such as the instrument body or the room it is played in, could be included as an impulse response, either obtained from a recording or generated using a highly-accurate (non-real-time) physical model. Comparisons to real instruments and perceptual evaluations could then be used to verify the realism of the sound produced by the physical model.

It must be said that realistic-sounding implementations do not have to be the goal of physical modelling. Another angle, rather than trying to recreate traditional musical instruments, is to make completely new instruments. As mentioned several times throughout this thesis (see Section \ref{sec:impossible} and Chapter \ref{ch:dynamicGrid}), one could even create physically impossible instruments, where realism is the opposite of what one aims for.

\subsection{Control}
Much work could still be done on investigating natural and intuitive control of the physical models. This PhD project explored two ways of controlling the musical instrument simulations. 

Firstly, the Sensel Morph (see Section \ref{sec:sensel}) was used for bowing, striking and plucking strings. Even though, bowing strings using this controller does not resemble the act of bowing a string in the physical world, the interaction could be deemed intuitive, as shown in paper \citeP[A].

Secondly, the PHANTOM Omni (see Section \ref{sec:phantomOmni}) was used to control the bow in a way that more closely resembled physical bowing. The evaluation in paper \citeP[E] shows that the interaction with the instrument, especially the haptic feedback, was ``realistic'' and ``natural''. Other aspects of the instrument, such as pitch control were deemed less natural, as one did not physically interact with a string. 

Future work includes exploring other hardware to control musical instrument simulations, or even building new ones. Custom controllers could be made to control physical models of traditional musical instruments. 
These could either be inspired by their real-life counterpart, similar to what a digital keyboard is to a piano, or be made completely different, as the sound of the instrument is no longer coupled to its shape or form.

% Hardware that allows for natural control controlling a physical model that can go beyond the original instrument. 

% One is not restricted to the shapes of the original instruments and could potentially control physically inspired instruments 

% The implementations presented in this work, as well as real-time physical models of musical instruments in general, could be implemented in a context with more natural control. 

\subsection{Evaluation}
There are various ways to evaluate real-time implementations of musical instrument simulations. Throughout the PhD project, the main focus was on technical evaluations and revolved around the analysis techniques presented in Chapter \ref{ch:analysis} and the computational speed of the algorithm. Together with informal evaluations (by the authors of the respective paper) about the sound quality and the interaction mapping, these formed the success criteria for most of the published work.

Although user-evaluation of the real-time instrument simulations was not a large part of this project, it is an important aspect in all of the aforementioned future work. Evaluations can, for example, be used as a part of an iterative design process, and aimed at parameter tuning (either for realism or not) or intuitive instrument control.

The most elaborate user evaluation performed during this project is presented in paper \citeP[E] and tested the playability of the tromba marina using the PHANTOM Omni device. As this instrument was also controlled by the Sensel Morph in paper \citeP[D], an evaluation that compares the two controllers could be made in the future. Apart from evaluating the differences in natural or intuitive control, one could investigate cross-modal effects between control (haptics) and audio, where one could investigate whether the way that the simulation is controlled has an influence on sound perception.

One interesting observation, shown in paper \citeP[E], was that players found the virtual tromba marina hard to play. This could indeed be expected, as no participant ever played the instrument before, neither the virtual one, nor the physical one. For other unknown instruments, including completely novel ones, this shows that their evaluation is challenging. Like a real instrument, it might take months, or even years of practice to produce well-sounding auditory results, or to determine whether the chosen mapping is satisfactory. 

% \SWcomment[Should I mention paper F somewhere in this section? something like:]
% A study is presented in paper \citeP[F] where a cross-modal evaluation is performed investigating the perception of stiffness in a haptically-enhanced drum membrane.
% \SWcomment[It is the only time I include it so maybe not..]

% Although results showed that the sound and control of the instrument was natural, it definitely helped that it was not an instrument that participants knew about. 

% For the (informal) evaluation of the instruments presented in papers \citeP[A] and \citeP[B], the applications were said to be inspired by physical instruments but have to be considered a `different' instrument. This could decouple expectations

\subsection{Dynamic grid}
Finally, where the author personally sees most potential for continuations of this work, is the further development of the dynamic grid method presented in paper \citeP[G]. During this project, only the cases of the 1D wave equation and the acoustic tube have been explored. Section \ref{sec:examples} provides many real-world examples that the method could be applied to. These consist 1D systems, such as stiff strings, but also 2D systems, such as the musical saw and the talking drum. Furthermore, finding conditions under which the method is stable will allow the method to be safely integrated into other applications.

% \subsection{Final words}
% \SWcomment[do not want to include:]
% Physical modelling is not here to replace the original instruments and the musicians playing them. Instead, it can be used as a tool to understand the physics of existing instruments and possibly go beyond. Simulated instruments are not restricted by physics anymore and could provide new ways of expression for the musician. 